# CalbucciLib.Logger

CalbucciLib.Logger provides a simple interface to log app errors, warnings and other events, and route those events to database, files, emails, third party services or more.


## Typical Scenarios and Benefits
- Track unhandled exceptions on ASP.NET, Azure Worker roles, WebJobs, etc.
- Track per-user Error information (useful for support, debug, investigation, etc.)
- Augment each event with your own custom properties
- Track performance thresholds on DB calls


## Patterns
Logger is not meant to use o Trace or Debug alerts. It's meant to log errors, warnings and other issues with production that should be tracked for support, bug fixes, product management, etc.
There are several types of built-in errors:

 - **Info**: Something important that can help investigate issues, but it's not an issue on itself 
 - **Warning**: It's a problem, but the user (or service) wasn't necessarily affected by it
 - **Error**: It's clearly an error and the bug needs to be fixed.
 - **Fatal**: It's catastrophic for the process and the service/process cannot continue in the current state.
 - **Exception**: Similar to Error, but it comes from catching an exception (handled or not)
 - **Perf**: A segment of code took longer than an expected threshold
 - **InvalidCodePath**: A condition that should not exist.
 
## Pattern Examples
 
#### 1) Info
Info should be rarely used or used only temporarily to avoid creating too much noise. One of the biggest problems with typical error logging is too much data, making it hard to find the important and urgent issues with the system.

```csharp
TODO

#### 2) Warning
Warning should be used to indicate a condition the code handled itself, but it wasn't "ideal". For example, an SDK returned a value outside of the range but the code handled that case by using a default (or max).

```csharp
var dateOfBirth = user.GetDateOfBirth();
if(dateOfBirth < oldest)
{
    Logger.LogWarning("Date of birth is older than expected", dateOfBirth);
    dateOfBirth = null;
}


#### 3) Error
```csharp
TODO


#### 4) Fatal
```csharp
TODO

#### 5) Exception
```csharp
TODO


#### 6) Perf
```csharp
TODO


#### 7) InvalidCodePath
```csharp
TODO


```csharp

## More Info
### Logging Parameters

### Automatic Email Notification

### Configuration

### Multiple Loggers

### Adding Log Extensions

### Log Filtering (ShouldLogCallback)

### InternalCrashCallback (a.k.a., when error logging crashes)


## Contributors

- Logger was originally created by *Marcelo Calbucci* ([blog.calbucci.com](http://blog.calbucci.com) | [@calbucci](http://twitter.com/calbucci))
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	